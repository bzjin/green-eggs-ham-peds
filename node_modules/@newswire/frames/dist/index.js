var i=["allowfullscreen"];function t(t,n){for(var o={},r=t.attributes,e=r.length,s=n.length,a=0;a<e;a++){var h=r[a].name;if(h.substr(0,s)===n){var f=h.slice(s),u=r[a].value;i.indexOf(f)>-1&&(u=!0),o[f]=u}}return o}function n(i,t){for(var n in t)i[n]=t[n];return i}var o="embed-size",r="amp",e=function(i){var t=i.allowfullscreen;void 0===t&&(t=!1);var n=i.name,o=i.referrerpolicy,r=i.sandbox;void 0===r&&(r="allow-scripts");var e=i.src,s=i.title;this.container=i.container,this.src=e,this.allowfullscreen=t,this.name=n,this.referrerpolicy=o,this.sandbox=r,this.title=s,this.i=this.i.bind(this),window.addEventListener("message",this.i,!1),this.t()};function s(i){var t;void 0===i&&(i=document.documentElement.offsetHeight),void 0===(t={height:i})&&(t={}),window.parent.postMessage(n({sentinel:r,type:o},t),"*")}function a(){window.addEventListener("load",function i(){s(),window.removeEventListener("load",i)})}function h(){window.addEventListener("resize",function(){return s()})}function f(i){void 0===i&&(i=300),setInterval(s,i)}function u(){s(),a(),h()}e.prototype.remove=function(){window.removeEventListener("message",this.i,!1),this.container.removeChild(this.iframe),this.iframe=null},e.prototype.t=function(){var i=this.iframe=document.createElement("iframe");i.setAttribute("src",this.src),i.setAttribute("width","100%"),i.setAttribute("scrolling","no"),i.setAttribute("marginheight","0"),i.setAttribute("frameborder","0"),this.allowfullscreen&&i.setAttribute("allowfullscreen",""),this.name&&i.setAttribute("name",name),this.referrerpolicy&&i.setAttribute("referrerpolicy",this.referrerpolicy),i.setAttribute("sandbox",this.sandbox),this.title&&i.setAttribute("title",this.title),this.container.appendChild(i)},e.prototype.i=function(i){if(i.source===this.iframe.contentWindow){var t=i.data;t.sentinel===r&&t.type===o&&this.o(t.height)}},e.prototype.o=function(i){this.iframe.setAttribute("height",i)},exports.autoInitFrames=function(){for(var i=document.querySelectorAll("[data-frame-src]:not([data-frame-auto-initialized])"),o=[],r=0;r<i.length;r++){var s=i[r],a=t(s,"data-frame-");s.setAttribute("data-frame-auto-initialized",""),o.push(new e(n({container:s},a)))}return o},exports.Framer=e,exports.initFrame=u,exports.initFrameAndPoll=function(i){u(),f(i)},exports.sendFrameHeight=s,exports.sendHeightOnLoad=a,exports.sendHeightOnPoll=f,exports.sendHeightOnResize=h;
//# sourceMappingURL=index.js.map
