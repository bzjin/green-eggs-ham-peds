var i=["allowfullscreen"];function t(t,n){for(var o={},r=t.attributes,s=r.length,e=n.length,h=0;h<s;h++){var a=r[h].name;if(a.substr(0,e)===n){var c=a.slice(e),f=r[h].value;i.indexOf(c)>-1&&(f=!0),o[c]=f}}return o}function n(i,t){for(var n in t)i[n]=t[n];return i}var o="embed-size",r="amp",s="data-frame-",e=s+"auto-initialized",h=s+"src",a=function(i){var t=i.allowfullscreen;void 0===t&&(t=!1);var n=i.name,o=i.referrerpolicy,r=i.sandbox;void 0===r&&(r="allow-scripts");var s=i.src,e=i.title;this.container=i.container,this.src=s,this.allowfullscreen=t,this.name=n,this.referrerpolicy=o,this.sandbox=r,this.title=e,this.i=this.i.bind(this),window.addEventListener("message",this.i,!1),this.t()};function c(){for(var i=document.querySelectorAll("["+h+"]:not(["+e+"])"),o=[],r=0;r<i.length;r++){var c=i[r],f=t(c,s);c.setAttribute(e,""),o.push(new a(n({container:c},f)))}return o}function f(i){var t;void 0===i&&(i=document.documentElement.offsetHeight),void 0===(t={height:i})&&(t={}),window.parent.postMessage(n({sentinel:r,type:o},t),"*")}function u(){window.addEventListener("load",function i(){f(),window.removeEventListener("load",i)})}function d(){window.addEventListener("resize",function(){return f()})}function l(i){void 0===i&&(i=300),setInterval(f,i)}function v(){f(),u(),d()}function w(i){v(),l(i)}a.prototype.remove=function(){window.removeEventListener("message",this.i,!1),this.container.removeChild(this.iframe),this.iframe=null},a.prototype.t=function(){var i=this.iframe=document.createElement("iframe");i.setAttribute("src",this.src),i.setAttribute("width","100%"),i.setAttribute("scrolling","no"),i.setAttribute("marginheight","0"),i.setAttribute("frameborder","0"),this.allowfullscreen&&i.setAttribute("allowfullscreen",""),this.name&&i.setAttribute("name",name),this.referrerpolicy&&i.setAttribute("referrerpolicy",this.referrerpolicy),i.setAttribute("sandbox",this.sandbox),this.title&&i.setAttribute("title",this.title),this.container.appendChild(i)},a.prototype.i=function(i){if(i.source===this.iframe.contentWindow){var t=i.data;t.sentinel===r&&t.type===o&&this.o(t.height)}},a.prototype.o=function(i){this.iframe.setAttribute("height",i)};export{c as autoInitFrames,a as Framer,v as initFrame,w as initFrameAndPoll,f as sendFrameHeight,u as sendHeightOnLoad,l as sendHeightOnPoll,d as sendHeightOnResize};
//# sourceMappingURL=index.mjs.map
